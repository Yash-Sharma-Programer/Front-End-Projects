<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Modern Digital Clock</title>

<!-- Optional fonts (falls back to system if blocked) -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

<style>
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  :root {
    --bg-1: #0f172a;  /* dark slate */
    --bg-2: #0b1220;
    --text: #e6f0ff;
    --muted: #94a3b8;
    --card: rgba(255,255,255,0.06);
    --card-border: rgba(255,255,255,0.14);
    --accent: #60a5fa; /* blue-400 */
    --glow: rgba(96,165,250,0.22);
  }
  body[data-theme="light"] {
    --bg-1: #eef2ff;  /* indigo-50 */
    --bg-2: #dde5ff;
    --text: #0b1220;
    --muted: #475569;
    --card: rgba(255,255,255,0.8);
    --card-border: rgba(10,20,40,0.1);
    --accent: #2563eb; /* blue-600 */
    --glow: rgba(37,99,235,0.18);
  }
  body {
    margin: 0;
    color: var(--text);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    min-height: 100svh;
    display: grid;
    place-items: center;
    overflow: hidden;
    background: radial-gradient(120% 120% at 10% 20%, var(--bg-1), var(--bg-2));
  }
  /* Subtle animated wash */
  body::before {
    content: "";
    position: fixed;
    inset: -20%;
    background:
      conic-gradient(from 180deg at 50% 50%,
        transparent 0 22%,
        rgba(96,165,250,0.08) 28% 40%,
        transparent 45% 65%,
        rgba(34,197,94,0.08) 70% 82%,
        transparent 86% 100%);
    animation: spin 32s linear infinite;
    filter: blur(64px);
    pointer-events: none;
  }
  @keyframes spin { to { transform: rotate(1turn); } }

  .clock-card {
    width: min(92vw, 820px);
    padding: clamp(1rem, 4vw, 2.5rem);
    border-radius: 24px;
    background: var(--card);
    border: 1px solid var(--card-border);
    backdrop-filter: blur(14px) saturate(120%);
    -webkit-backdrop-filter: blur(14px) saturate(120%);
    box-shadow:
      0 10px 30px rgba(0,0,0,0.25),
      0 0 0 1px rgba(255,255,255,0.02) inset,
      0 0 40px var(--glow);
  }

  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 8px;
  }
  .title {
    font-weight: 600;
    letter-spacing: 0.02em;
    font-size: clamp(0.95rem, 2.2vw, 1.1rem);
    opacity: 0.85;
  }
  .controls {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  button {
    appearance: none;
    border: 1px solid var(--card-border);
    background: var(--card);
    color: var(--text);
    padding: 0.5rem 0.8rem;
    border-radius: 12px;
    font: 600 0.9rem/1 Inter, system-ui, sans-serif;
    cursor: pointer;
    transition: transform .08s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
  }
  button:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 16px rgba(0,0,0,.18);
  }
  body[data-theme="dark"] button:hover { background: rgba(255,255,255,0.10); }
  body[data-theme="light"] button:hover { background: rgba(0,0,0,0.05); }
  button:active { transform: translateY(0) scale(0.98); }
  button.active {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(96,165,250,0.25);
  }
  button .icon { margin-right: 6px; }

  .time {
    display: flex;
    align-items: baseline;
    justify-content: center;
    gap: clamp(0.4rem, 1vw, 0.6rem);
    font-variant-numeric: tabular-nums lining-nums;
    letter-spacing: 0.04em;
    text-shadow: 0 2px 20px rgba(96,165,250,0.35);
    user-select: none;
  }
  .hh, .mm, .ss {
    font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    font-weight: 700;
    font-size: clamp(2.8rem, 12vw, 7.5rem);
    line-height: 1;
  }
  .colon {
    font-size: clamp(2.8rem, 12vw, 7.5rem);
    font-weight: 700;
    opacity: 0.95;
    color: var(--accent);
  }
  .blink { animation: blink 1s steps(1, end) infinite; }
  @keyframes blink {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0.18; }
  }
  .ampm {
    font-size: clamp(0.9rem, 2.8vw, 1.4rem);
    margin-left: 4px;
    font-weight: 700;
    color: var(--accent);
    letter-spacing: 0.12em;
  }

  .meta {
    margin-top: clamp(0.2rem, 1.5vw, 0.8rem);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    color: var(--muted);
    font-size: clamp(0.9rem, 2.8vw, 1.05rem);
  }

  @media (max-width: 360px) {
    .controls { justify-content: flex-end; }
  }
  @media (prefers-reduced-motion: reduce) {
    * { animation: none !important; transition: none !important; }
  }
</style>
</head>
<body data-theme="dark">
  <div class="clock-card" role="group" aria-label="Digital clock">
    <div class="header">
      <div class="title">Digital Clock</div>
      <div class="controls">
        <button id="toggle-format" aria-pressed="false" title="Toggle 12/24-hour format">
          <span class="icon">‚è±Ô∏è</span><span class="label">24h</span>
        </button>
        <button id="toggle-theme" aria-pressed="true" title="Toggle light/dark theme">
          <span class="icon">üåì</span><span class="label">Dark</span>
        </button>
      </div>
    </div>

    <time id="clock" class="time" aria-live="polite" aria-atomic="true">
      <span class="hh">--</span>
      <span class="colon blink">:</span>
      <span class="mm">--</span>
      <span class="colon blink">:</span>
      <span class="ss">--</span>
      <span class="ampm" aria-hidden="true"></span>
    </time>

    <div class="meta">
      <span id="date">‚Äî ‚Äî</span>
      <span aria-hidden="true">‚Ä¢</span>
      <span id="tz">‚Äî</span>
    </div>
  </div>

<script>
  (function () {
    const $ = (sel) => document.querySelector(sel);
    const hh = $('.hh'), mm = $('.mm'), ss = $('.ss');
    const ampm = $('.ampm');
    const dateEl = $('#date');
    const tzEl = $('#tz');
    const formatBtn = $('#toggle-format');
    const themeBtn = $('#toggle-theme');
    const clockEl = $('#clock');

    const pad = (n) => String(n).padStart(2, '0');

    // Preferences
    let is24h = localStorage.getItem('clock-24h');
    is24h = is24h === null ? true : (is24h === 'true');

    let theme = localStorage.getItem('clock-theme');
    if (!theme) {
      // Default to system preference on first load
      theme = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light';
    }
    setTheme(theme);
    setFormat(is24h);

    // Timezone label
    try {
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
      tzEl.textContent = tz.replace(/_/g, ' ');
    } catch {
      tzEl.textContent = 'Local Time';
    }

    function update() {
      const now = new Date();
      let hours = now.getHours();
      let label = '';

      if (is24h) {
        label = '';
      } else {
        label = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12 || 12;
      }

      hh.textContent = pad(hours);
      mm.textContent = pad(now.getMinutes());
      ss.textContent = pad(now.getSeconds());
      ampm.textContent = label;
      ampm.style.display = is24h ? 'none' : 'inline-block';

      dateEl.textContent = now.toLocaleDateString(undefined, {
        weekday: 'short',
        year: 'numeric',
        month: 'short',
        day: 'numeric'
      });

      clockEl.setAttribute('datetime', now.toISOString());
    }

    // Schedule next tick right after the next real second boundary
    function schedule() {
      const now = Date.now();
      const delay = 1000 - (now % 1000) + 5; // small buffer
      setTimeout(() => { update(); schedule(); }, delay);
    }

    function setFormat(val) {
      is24h = !!val;
      formatBtn.setAttribute('aria-pressed', (!is24h).toString());
      formatBtn.classList.toggle('active', !is24h);
      formatBtn.querySelector('.label').textContent = is24h ? '24h' : '12h';
      localStorage.setItem('clock-24h', String(is24h));
      update();
    }

    function setTheme(mode) {
      theme = mode === 'light' ? 'light' : 'dark';
      document.body.setAttribute('data-theme', theme);
      themeBtn.setAttribute('aria-pressed', (theme === 'dark').toString());
      themeBtn.classList.toggle('active', theme === 'dark');
      themeBtn.querySelector('.label').textContent = theme === 'dark' ? 'Dark' : 'Light';
      localStorage.setItem('clock-theme', theme);
    }

    formatBtn.addEventListener('click', () => setFormat(!is24h));
    themeBtn.addEventListener('click', () => setTheme(theme === 'dark' ? 'light' : 'dark'));

    update();
    schedule();
  })();
</script>
</body>
</html>